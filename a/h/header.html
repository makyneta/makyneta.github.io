<header id="main-header" class="w-full fixed top-0 left-0 right-0 z-50 flex justify-between items-center"
    style="padding: 0.75rem 1rem; background: rgba(8,10,12,0.78) !important; color: #fff; backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); border-bottom: 1px solid rgba(255,255,255,0.04); box-shadow: 0 4px 20px rgba(0,0,0,0.45);">

    <style>
        /* Header link system: professional, accessible, bottom-to-top fill */
        /* Make header use a fixed height and remove vertical padding so link fills reach top/bottom */
        #main-header { padding: 0 1rem !important; height: 64px; }
        @media (max-width: 767px) { #main-header { height: auto; padding: 0.75rem 1rem !important; } }
        .header-brand { color: #fff; text-decoration: none; letter-spacing: 0.03em; }

        .header-nav { gap: 1.5rem; display: flex; align-items: center; height: 100%; }

        .nav-link, .nav-btn { color: #e5e7eb; text-decoration: none; font-size: 0.95rem; font-weight: 600; padding: 0 0.75rem; border-radius: 0; position: relative; overflow: visible; display: flex; align-items: center; gap: 0.4rem; background: transparent; transition: color 0.25s ease, transform 0.15s ease; height: 100%; }

        .nav-link span, .nav-btn span { position: relative; z-index: 2; display: inline-block; }

        .nav-link::before, .nav-btn::before {
            content: ""; position: absolute; left: 0; right: 0; top: 0; bottom: 0; background: linear-gradient(to top, rgba(255,255,255,0.12), rgba(255,255,255,0.12)); transform-origin: bottom; transform: scaleY(0); transition: transform 0.32s cubic-bezier(.2,.9,.2,1); z-index: 1;
        }

        .nav-link:hover::before, .nav-link:focus-visible::before, .nav-btn:hover::before, .nav-btn:focus-visible::before { transform: scaleY(1); }
        .nav-link:hover, .nav-link:focus-visible, .nav-btn:hover, .nav-btn:focus-visible { color: #ffffff; outline: none; }

        /* Make the desktop links look like text (no button) while keeping the bottom-to-top fill */
        .nav-link, .nav-btn { padding: 0 0.75rem; border-radius: 0; }
        /* ensure pseudo-element covers entire header height */
        .nav-link::before, .nav-btn::before { height: auto; }

        .nav-btn { border: none; background: transparent; cursor: pointer; }
        .nav-btn svg { transition: transform .28s ease; }
        .nav-btn[aria-expanded="true"] svg { transform: rotate(180deg); }

        .dropdown-menu { background: rgba(20,24,28,0.95); border: none; border-radius: 0; backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); box-shadow: 0 8px 24px rgba(0,0,0,0.5); padding: 0; min-width: 11rem; }

        .dropdown-link { display: block; padding: 0.65rem 1rem; color: #e5e7eb; text-decoration: none; font-size: 0.9rem; font-weight: 500; border-radius: 0; position: relative; overflow: hidden; transition: color 0.22s ease; }
        .dropdown-link::before { content: ""; position: absolute; left: 0; right: 0; top: 0; bottom: 0; background: linear-gradient(to bottom, rgba(255,255,255,0.08), rgba(255,255,255,0.08)); transform-origin: top; transform: scaleY(0); transition: transform 0.25s cubic-bezier(.2,.9,.2,1); z-index: 0; }
        .dropdown-link span { position: relative; z-index: 1; }
        .dropdown-link:hover::before, .dropdown-link:focus-visible::before { transform: scaleY(1); }
        .dropdown-link:hover, .dropdown-link:focus-visible { color: #ffffff; }

        /* Mobile menu link polish */
        .mobile-link { display: flex; align-items: center; width: 100%; padding: 1.75rem 2rem; color: #ffffff; text-decoration: none; border-bottom: 1px solid rgba(59,130,246,0.06); transition: all 0.28s cubic-bezier(.2,.9,.2,1); font-weight: 600; font-size: 1rem; letter-spacing: 0.005em; }
        .mobile-link .icon { display:inline-flex; align-items:center; justify-content:center; width:2.75rem; height:2.75rem; border-radius:0.875rem; margin-right:1.25rem; font-size:1.25rem; transition: transform .22s ease, box-shadow .22s ease; }
        .mobile-link:hover { background: rgba(59,130,246,0.06); transform: translateX(3px); }
        .mobile-link:hover .icon { transform: translateX(2px) scale(1.03); box-shadow: 0 6px 18px rgba(0,0,0,0.35); }
        
        /* Responsive fallback: if Tailwind isn't present, explicitly hide/show modules */
        .md-hidden { display: none; }
        @media (max-width: 767px) {
            .header-nav { display: none !important; }
            .md-hidden { display: block !important; }
        }

        @media (min-width: 768px) {
            /* mobile menu and backdrop should not be visible on desktop */
            #mobile-menu, #mobile-menu-backdrop { display: none !important; }
        }
    </style>

    <a href="/" class="text-2xl font-semibold header-brand">TOM√ÅS MOTA</a>
    
    <nav class="hidden md:flex items-center header-nav">
        <a href="/" class="nav-link"><span>Home</span></a>
        <a href="/i/bio" class="nav-link"><span>About</span></a>
        <div class="relative">
            <button id="desktop-portfolio-toggle" class="nav-btn" aria-expanded="false">
                <span>Portfolio</span>
                <svg class="w-3 h-3" id="desktop-portfolio-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </button>
            <div id="desktop-portfolio-menu" class="dropdown-menu absolute right-0 mt-2 opacity-0 invisible transition duration-300 transform scale-95 origin-top-right z-50">
                <a href="/d" class="dropdown-link"><span>Dev</span></a>
                <a href="/p" class="dropdown-link"><span>Photo</span></a>
            </div>
        </div>
        <a href="/i/cv.pdf" class="nav-link"><span>CV</span></a>
    </nav>

    <div class="md:hidden">
        <button id="hamburger-button" class="text-white p-2 focus:outline-none rounded transition duration-300 hover:bg-gray-700">
            <svg id="menu-open-icon" class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
            <svg id="menu-close-icon" class="w-8 h-8 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
    </div>

    <div id="mobile-menu-backdrop" class="fixed inset-0 z-40 md:hidden invisible opacity-0 transition-opacity duration-300" style="background-color: rgba(0, 0, 0, 0.7) !important;"></div>

    <nav id="mobile-menu" class="fixed top-0 right-0 h-screen w-screen md:hidden transform translate-x-full transition-transform duration-300 ease-in-out z-50" style="background: rgba(8,10,12,0.95); padding: 0; display: flex; flex-direction: column; overflow: hidden; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);">

        <!-- Header Executivo (mobile) - estilo igual ao desktop -->
        <div style="width:100%; padding: 0.9rem 1rem; display: flex; justify-content: space-between; align-items: center; background: rgba(8,10,12,0.82); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); border-bottom: 1px solid rgba(255,255,255,0.04); box-shadow: 0 4px 20px rgba(0,0,0,0.45); flex-shrink: 0;">
            <div>
                <!-- <p style="color: rgba(59, 130, 246, 0.8); font-size: 0.75rem; font-weight: 700; letter-spacing: 0.2em; text-transform: uppercase; margin: 0 0 0.5rem 0; display: flex; align-items: center; gap: 0.5rem;"><span style="width: 2px; height: 2px; background: #3b82f6; border-radius: 50%;"></span></p> -->
                <h1 style="color: #ffffff; font-size: 1.125rem; font-weight: 800; margin: 0; letter-spacing: -0.02em;">TOM√ÅS MOTA</h1>
            </div>
            <button id="close-menu-sidebar-button" style="background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.04); color: white; padding: 0.6rem; border-radius: 0.6rem; cursor: pointer; display: flex; align-items: center; justify-content: center; width: 2.4rem; height: 2.4rem; font-size: 1rem; box-shadow: 0 6px 18px rgba(0,0,0,0.4); transition: all 0.18s ease;">
                ‚úï
            </button>
        </div>

        <!-- Menu Items Container -->
        <div style="flex: 1; overflow-y: auto; background: linear-gradient(180deg, rgba(15, 23, 42, 0.6) 0%, rgba(3, 7, 18, 0.8) 100%) !important; padding: 1.5rem 0; backdrop-filter: blur(20px);">
            
            <!-- Home Item -->
            <a href="/" class="mobile-link">
                <span class="icon" style="display:inline-flex; align-items:center; justify-content:center; width:2.75rem; height:2.75rem; background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(37, 99, 235, 0.1) 100%); border: 2px solid rgba(59, 130, 246, 0.4); border-radius: 0.875rem; margin-right: 1.25rem; font-size: 1.25rem;">üè†</span>
                <span>Home</span>
            </a>

            <!-- About Item -->
            <a href="/i/bio" class="mobile-link">
                <span class="icon" style="display:inline-flex; align-items:center; justify-content:center; width:2.75rem; height:2.75rem; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(109, 40, 217, 0.1) 100%); border: 2px solid rgba(139, 92, 246, 0.4); border-radius: 0.875rem; margin-right: 1.25rem; font-size: 1.25rem;">üë§</span>
                <span>About</span>
            </a>

            <!-- Portfolio Item -->
            <div style="background: transparent !important;">
                <button id="mobile-portfolio-toggle" class="mobile-link" aria-expanded="false" style="justify-content: space-between; border: none; background: transparent;">
                    <span style="display: flex; align-items: center; gap: 1.25rem;">
                        <span class="icon" style="display:inline-flex; align-items:center; justify-content:center; width:2.75rem; height:2.75rem; background: linear-gradient(135deg, rgba(236, 72, 153, 0.2) 0%, rgba(190, 24, 93, 0.1) 100%); border: 2px solid rgba(236, 72, 153, 0.4); border-radius: 0.875rem; font-size: 1.25rem;">üé®</span>
                        <span>Portfolio</span>
                    </span>
                    <span id="mobile-portfolio-arrow" style="transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); font-size: 0.625rem; font-weight: 800; color: rgba(59, 130, 246, 0.6);">‚ñº</span>
                </button>

                <!-- Portfolio Submenu -->
                <div id="mobile-portfolio-menu" class="hidden" style="background: linear-gradient(180deg, rgba(15, 23, 42, 0.9) 0%, rgba(3, 7, 18, 0.95) 100%) !important; border-left: 4px solid #3b82f6; backdrop-filter: blur(20px);">
                    <a href="/d" class="dropdown-link" style="display:flex; align-items:center; width:100%; padding:1.5rem 2rem 1.5rem 2.75rem; color:#cbd5e1; text-decoration:none; border-bottom:1px solid rgba(59,130,246,0.06); font-size:0.95rem; font-weight:500;">
                        <span style="display:inline-flex; align-items:center; justify-content:center; width:2rem; height:2rem; background: rgba(59, 130, 246, 0.15); border: 1.5px solid rgba(59,130,246,0.3); border-radius:0.625rem; margin-right:0.875rem; font-size:1rem;">üíª</span>
                        <span>Development</span>
                    </a>
                    <a href="/p" class="dropdown-link" style="display:flex; align-items:center; width:100%; padding:1.5rem 2rem 1.5rem 2.75rem; color:#cbd5e1; text-decoration:none; border-bottom:1px solid rgba(59,130,246,0.06); font-size:0.95rem; font-weight:500;">
                        <span style="display:inline-flex; align-items:center; justify-content:center; width:2rem; height:2rem; background: rgba(59, 130, 246, 0.15); border: 1.5px solid rgba(59,130,246,0.3); border-radius:0.625rem; margin-right:0.875rem; font-size:1rem;">üì∏</span>
                        <span>Photography</span>
                    </a>
                </div>
            </div>

            <!-- CV Item -->
            <a href="/i/cv.pdf" class="mobile-link">
                <span class="icon" style="display:inline-flex; align-items:center; justify-content:center; width:2.75rem; height:2.75rem; background: linear-gradient(135deg, rgba(6, 182, 212, 0.2) 0%, rgba(8, 145, 178, 0.1) 100%); border: 2px solid rgba(6, 182, 212, 0.4); border-radius: 0.875rem; margin-right: 1.25rem; font-size: 1.25rem;">üìÑ</span>
                <span>Curriculum</span>
            </a>
        </div>

        <!-- Footer Executivo -->
        <!-- <div style="background: linear-gradient(180deg, rgba(30, 58, 95, 0.95) 0%, rgba(15, 23, 42, 0.9) 100%) !important; padding: 2rem; text-align: center; border-top: 2px solid rgba(59, 130, 246, 0.5); flex-shrink: 0; backdrop-filter: blur(10px); box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.5);">
            <div style="display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: 1rem;">
                <span style="width: 8px; height: 8px; background: linear-gradient(135deg, #3b82f6, #2563eb); border-radius: 50%;"></span>
                <p style="color: rgba(203, 213, 225, 0.9); font-size: 0.825rem; margin: 0; font-weight: 500; letter-spacing: 0.05em; text-transform: uppercase;">Premium Experience</p>
                <span style="width: 8px; height: 8px; background: linear-gradient(135deg, #3b82f6, #2563eb); border-radius: 50%;"></span>
            </div>
            <p style="color: rgba(148, 163, 184, 0.85); font-size: 0.75rem; margin: 0; letter-spacing: 0.1em;">¬© 2025 TOM√ÅS MOTA ‚Ä¢ PORTFOLIO</p>
        </div> -->
    </nav>
</header>